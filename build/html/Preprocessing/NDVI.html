
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Vegetation Indices &#8212; MISLAND DATA PREPARATION MANUAL 0.0.1 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=8f2a1f02" />
  
  <!-- So that users can add custom icons -->
  <script src="../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../_static/documentation_options.js?v=d45e8c67"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'Preprocessing/NDVI';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Landcover Data Preparation" href="Landcover.html" />
    <link rel="prev" title="Data Preparation Models" href="../Introduction/models.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
    <meta name="docbuild:last-update" content="True"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo.png" class="logo__image only-light" alt="MISLAND DATA PREPARATION MANUAL 0.0.1 documentation - Home"/>
    <img src="../_static/logo.png" class="logo__image only-dark pst-js-only" alt="MISLAND DATA PREPARATION MANUAL 0.0.1 documentation - Home"/>
  
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../Introduction/Introduction.html">
    Introduction to MISLAND
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../Admin/admin.html">
    MISLAND System Admin Panel
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../Introduction/data.html">
    Data and Data sources
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../Introduction/models.html">
    Data Preparation Models
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../Introduction/Introduction.html">
    Introduction to MISLAND
  </a>
</li>

            <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button"
                data-bs-toggle="dropdown" aria-expanded="false"
                aria-controls="pst-nav-more-links">
                    More
                </button>
                <ul id="pst-nav-more-links" class="dropdown-menu">
                    
<li class=" current active">
  <a class="nav-link dropdown-item nav-internal" href="#">
    Vegetation Indices
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="Landcover.html">
    Landcover Data Preparation
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="Forestloss.html">
    Forest Loss
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="Ecologicalunits.html">
    Ecological Units Layer
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="cqi.html">
    Climate Quality Index
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="vqi.html">
    Vegetation Qulality Index
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="mqi.html">
    Management Qulity Index
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="CVI.html">
    Coastal Vulnerability Index
  </a>
</li>

                </ul>
            </li>
            
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../Introduction/Introduction.html">
    Introduction to MISLAND
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../Admin/admin.html">
    MISLAND System Admin Panel
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../Introduction/data.html">
    Data and Data sources
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../Introduction/models.html">
    Data Preparation Models
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../Introduction/Introduction.html">
    Introduction to MISLAND
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="#">
    Vegetation Indices
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="Landcover.html">
    Landcover Data Preparation
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="Forestloss.html">
    Forest Loss
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="Ecologicalunits.html">
    Ecological Units Layer
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="cqi.html">
    Climate Quality Index
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="vqi.html">
    Vegetation Qulality Index
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="mqi.html">
    Management Qulity Index
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="CVI.html">
    Coastal Vulnerability Index
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<h3><a href="../index.html">Table of Contents</a></h3>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Introduction to MISLAND</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Introduction/Introduction.html">Introduction to MISLAND</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">MISLAND System Admin</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Admin/admin.html">MISLAND System Admin Panel</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Data Preparation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Introduction/data.html">Data and Data sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Introduction/models.html">Data Preparation Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Introduction/Introduction.html">Introduction to MISLAND</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Data Preprocessing in Qgis</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Vegetation Indices</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#modis-ndvi">MODIS NDVI</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#data-download-from-google-earth-engine">Data download from Google Earth Engine</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#landsat-derived-ndvi-msavi-savi">Landsat derived NDVI, MSAVI, SAVI</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">Data download from Google Earth Engine</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Landcover.html">Landcover Data Preparation</a></li>
<li class="toctree-l1"><a class="reference internal" href="Forestloss.html">Forest Loss</a></li>
<li class="toctree-l1"><a class="reference internal" href="Ecologicalunits.html">Ecological Units Layer</a></li>
<li class="toctree-l1"><a class="reference internal" href="cqi.html">Climate Quality Index</a></li>
<li class="toctree-l1"><a class="reference internal" href="vqi.html">Vegetation Qulality Index</a></li>
<li class="toctree-l1"><a class="reference internal" href="mqi.html">Management Qulity Index</a></li>
<li class="toctree-l1"><a class="reference internal" href="CVI.html">Coastal Vulnerability Index</a></li>
</ul>
</div>
        <div class="sidebar-primary-item">
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="../Introduction/models.html"
                          title="previous chapter">Data Preparation Models</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="Landcover.html"
                          title="next chapter">Landcover Data Preparation</a></p>
  </div></div>
        <div class="sidebar-primary-item">
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/Preprocessing/NDVI.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div></div>
        <div class="sidebar-primary-item">
<div id="searchbox"></div></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">Vegetation Indices</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="vegetation-indices">
<h1>Vegetation Indices<a class="headerlink" href="#vegetation-indices" title="Link to this heading">#</a></h1>
<section id="modis-ndvi">
<h2>MODIS NDVI<a class="headerlink" href="#modis-ndvi" title="Link to this heading">#</a></h2>
<section id="data-download-from-google-earth-engine">
<h3>Data download from Google Earth Engine<a class="headerlink" href="#data-download-from-google-earth-engine" title="Link to this heading">#</a></h3>
<p>The MOD13Q1 V6 product provides a Vegetation Index (VI) value at a per pixel basis. There are two primary vegetation layers. The first is the Normalized Difference Vegetation Index (NDVI) which is referred to as the continuity index to the existing National Oceanic and Atmospheric Administration-Advanced Very High Resolution Radiometer (NOAA-AVHRR) derived NDVI. The second vegetation layer is the Enhanced Vegetation Index (EVI) that minimizes canopy background variations and maintains sensitivity over dense vegetation conditions. The MODIS NDVI and EVI products are computed from atmospherically corrected bi-directional surface reflectances that have been masked for water, clouds, heavy aerosols, and cloud shadows.</p>
<p>To compute and download the mean anual MODIS NDVI data from google earth engine. Open the <a class="reference external" href="https://code.earthengine.google.com/">Google Earth Engine Code</a> and paste the lines of code provided below</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="w">     </span><span class="cm">/**** Start of imports. If edited, may not auto-convert in the playground. ****/</span>
<span class="linenos"> 2</span><span class="w">     </span><span class="kd">var</span><span class="w"> </span><span class="nx">table</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">FeatureCollection</span><span class="p">(</span><span class="s2">&quot;projects/ee-briansimiyu/assets/Africa_shapefile&quot;</span><span class="p">);</span>
<span class="linenos"> 3</span><span class="w">     </span><span class="cm">/***** End of imports. If edited, may not auto-convert in the playground. *****/</span>
<span class="linenos"> 4</span><span class="w">     </span><span class="kd">var</span><span class="w"> </span><span class="nx">dataset</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">ImageCollection</span><span class="p">(</span><span class="s1">&#39;MODIS/006/MOD13Q1&#39;</span><span class="p">)</span>
<span class="linenos"> 5</span><span class="w">                       </span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">ee</span><span class="p">.</span><span class="nx">Filter</span><span class="p">.</span><span class="nx">date</span><span class="p">(</span><span class="s1">&#39;2018-01-01&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;2019-01-01&#39;</span><span class="p">))</span>
<span class="linenos"> 6</span><span class="w">                       </span><span class="p">.</span><span class="nx">mean</span><span class="p">()</span>
<span class="linenos"> 7</span><span class="w">                       </span><span class="p">.</span><span class="nx">clip</span><span class="p">(</span><span class="nx">table</span><span class="p">);</span>
<span class="linenos"> 8</span>
<span class="linenos"> 9</span><span class="w">     </span><span class="kd">var</span><span class="w"> </span><span class="nx">ndvi</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">dataset</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s1">&#39;NDVI&#39;</span><span class="p">);</span>
<span class="linenos">10</span><span class="w">     </span><span class="kd">var</span><span class="w"> </span><span class="nx">ndviVis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11</span><span class="w">       </span><span class="nx">min</span><span class="o">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span>
<span class="linenos">12</span><span class="w">       </span><span class="nx">max</span><span class="o">:</span><span class="w"> </span><span class="mf">8000.0</span><span class="p">,</span>
<span class="linenos">13</span><span class="w">       </span><span class="nx">palette</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="linenos">14</span><span class="w">         </span><span class="s1">&#39;FFFFFF&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;CE7E45&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;DF923D&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;F1B555&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;FCD163&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;99B718&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;74A901&#39;</span><span class="p">,</span>
<span class="linenos">15</span><span class="w">         </span><span class="s1">&#39;66A000&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;529400&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;3E8601&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;207401&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;056201&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;004C00&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;023B01&#39;</span><span class="p">,</span>
<span class="linenos">16</span><span class="w">         </span><span class="s1">&#39;012E01&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;011D01&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;011301&#39;</span>
<span class="linenos">17</span><span class="w">       </span><span class="p">],</span>
<span class="linenos">18</span><span class="w">     </span><span class="p">};</span>
<span class="linenos">19</span><span class="w">     </span><span class="nb">Map</span><span class="p">.</span><span class="nx">centerObject</span><span class="p">(</span><span class="nx">table</span><span class="p">);</span>
<span class="linenos">20</span><span class="w">     </span><span class="nb">Map</span><span class="p">.</span><span class="nx">addLayer</span><span class="p">(</span><span class="nx">ndvi</span><span class="p">,</span><span class="w"> </span><span class="nx">ndviVis</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;NDVI&#39;</span><span class="p">);</span>
<span class="linenos">21</span>
<span class="linenos">22</span><span class="w">     </span><span class="nx">Export</span><span class="p">.</span><span class="nx">image</span><span class="p">.</span><span class="nx">toCloudStorage</span><span class="p">({</span>
<span class="linenos">23</span><span class="w">     </span><span class="nx">image</span><span class="o">:</span><span class="nx">ndvi</span><span class="p">,</span>
<span class="linenos">24</span><span class="w">     </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;NDVI&#39;</span><span class="p">,</span>
<span class="linenos">25</span><span class="w">     </span><span class="nx">maxPixels</span><span class="o">:</span><span class="mf">1e13</span><span class="p">,</span>
<span class="linenos">26</span><span class="w">     </span><span class="nx">scale</span><span class="o">:</span><span class="mf">250</span><span class="p">,</span>
<span class="linenos">27</span><span class="w">     </span><span class="nx">bucket</span><span class="o">:</span><span class="s1">&#39;oss_ldms_vi&#39;</span><span class="p">,</span>
<span class="linenos">28</span><span class="w">     </span><span class="nx">region</span><span class="o">:</span><span class="nx">table</span>
<span class="linenos">29</span><span class="w">     </span><span class="p">})</span>
</pre></div>
</div>
</section>
</section>
<section id="landsat-derived-ndvi-msavi-savi">
<h2>Landsat derived NDVI, MSAVI, SAVI<a class="headerlink" href="#landsat-derived-ndvi-msavi-savi" title="Link to this heading">#</a></h2>
<section id="id1">
<h3>Data download from Google Earth Engine<a class="headerlink" href="#id1" title="Link to this heading">#</a></h3>
<p>Several annual NDVI composite techniques have been discussed to overcome current Landsat 5 artifacts.
MISLAND uses annual NDVI products based on different percentiles in order to better qualify and quantify the Vegetation Loss Index.</p>
<p>To compute and download desired percentile composites from google earth engine. Open the <a class="reference external" href="https://code.earthengine.google.com/">Google Earth Engine Code</a> and paste the lines of code provided below</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="w"> </span><span class="c1">/// Required Data Inputs</span>
<span class="linenos">  2</span><span class="w">     </span><span class="c1">// ===================</span>
<span class="linenos">  3</span><span class="w">     </span><span class="c1">// * USGS/NASA&#39;s Landsat 4 surface reflectance tier 1 dataset (August 1982 - December 1993)</span>
<span class="linenos">  4</span><span class="w">     </span><span class="c1">// * USGS/NASA&#39;s Landsat 5 surface reflectance tier 1 dataset (January 1, 1984 - May 5, 2012)</span>
<span class="linenos">  5</span><span class="w">     </span><span class="c1">// * USGS/NASA&#39;s Landsat 7 surface reflectance tier 1 dataset (January 1, 1999 - December 31, 2019)</span>
<span class="linenos">  6</span><span class="w">     </span><span class="c1">// * USGS/NASA&#39;s Landsat 8 surface reflectance tier 1 dataset (April 11, 2013 - December 31, 2019)</span>
<span class="linenos">  7</span><span class="w">     </span><span class="c1">// * Study Area Polygon</span>
<span class="linenos">  8</span>
<span class="linenos">  9</span><span class="w">     </span><span class="kd">var</span><span class="w"> </span><span class="nx">countries</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">FeatureCollection</span><span class="p">(</span><span class="s2">&quot;USDOS/LSIB_SIMPLE/2017&quot;</span><span class="p">);</span>
<span class="linenos"> 10</span>
<span class="linenos"> 11</span><span class="w">     </span><span class="kd">var</span><span class="w"> </span><span class="nx">Year</span><span class="o">=</span><span class="s1">&#39;2000&#39;</span>
<span class="linenos"> 12</span>
<span class="linenos"> 13</span>
<span class="linenos"> 14</span><span class="w">     </span><span class="kd">var</span><span class="w"> </span><span class="nx">country</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;Libya&#39;</span><span class="p">;</span>
<span class="linenos"> 15</span><span class="w">     </span><span class="kd">var</span><span class="w"> </span><span class="nx">ALGO</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;PERCENTILE65&quot;</span><span class="p">;</span><span class="w"> </span><span class="c1">// PERCENTILE75  // PERCENTILE65 // PERCENTILE60 // MEDIAN</span>
<span class="linenos"> 16</span><span class="w">     </span><span class="kd">var</span><span class="w"> </span><span class="nx">cloudCoveragePercentage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">80</span><span class="p">;</span>
<span class="linenos"> 17</span>
<span class="linenos"> 18</span>
<span class="linenos"> 19</span><span class="w">     </span><span class="kd">var</span><span class="w"> </span><span class="nx">studyArea</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">countries</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">ee</span><span class="p">.</span><span class="nx">Filter</span><span class="p">.</span><span class="nx">eq</span><span class="p">(</span><span class="s1">&#39;country_na&#39;</span><span class="p">,</span><span class="nx">country</span><span class="w"> </span><span class="p">))</span>
<span class="linenos"> 20</span><span class="w">     </span><span class="c1">//Map.addLayer(studyArea);</span>
<span class="linenos"> 21</span>
<span class="linenos"> 22</span><span class="w">     </span><span class="cm">/*</span>
<span class="linenos"> 23</span><span class="cm">     borders are quite coarse</span>
<span class="linenos"> 24</span><span class="cm">     var northAfrica = ee.FeatureCollection(&#39;users/derickongeri/Admin&#39;)</span>
<span class="linenos"> 25</span><span class="cm">     var country = &#39;TUNISIA&#39;;</span>
<span class="linenos"> 26</span><span class="cm">     var studyArea = northAfrica.filter(ee.Filter.eq(&#39;NAME&#39;, country))</span>
<span class="linenos"> 27</span><span class="cm">     Map.addLayer(studyArea);</span>
<span class="linenos"> 28</span><span class="cm">     */</span>
<span class="linenos"> 29</span>
<span class="linenos"> 30</span>
<span class="linenos"> 31</span>
<span class="linenos"> 32</span>
<span class="linenos"> 33</span><span class="w">     </span><span class="kd">var</span><span class="w"> </span><span class="nx">start_date</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">Year</span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;-01-01&#39;</span><span class="p">;</span>
<span class="linenos"> 34</span><span class="w">     </span><span class="kd">var</span><span class="w"> </span><span class="nx">end_date</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="nx">Year</span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;-12-31&#39;</span><span class="p">;</span>
<span class="linenos"> 35</span>
<span class="linenos"> 36</span>
<span class="linenos"> 37</span><span class="w">     </span><span class="c1">//--------------------------------------------------------------------</span>
<span class="linenos"> 38</span><span class="w">     </span><span class="c1">//       Landsat 4, 5, 7 cloudmask</span>
<span class="linenos"> 39</span><span class="w">     </span><span class="c1">//--------------------------------------------------------------------</span>
<span class="linenos"> 40</span>
<span class="linenos"> 41</span><span class="w">         </span><span class="c1">// If the cloud bit (5) is set and the cloud confidence (7) is high</span>
<span class="linenos"> 42</span><span class="w">         </span><span class="c1">// or the cloud shadow bit is set (3), then it&#39;s a bad pixel.</span>
<span class="linenos"> 43</span><span class="w">     </span><span class="kd">var</span><span class="w"> </span><span class="nx">cloudMaskL7</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">function</span><span class="p">(</span><span class="nx">image</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 44</span><span class="w">       </span><span class="kd">var</span><span class="w"> </span><span class="nx">qa</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">image</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s1">&#39;QA_PIXEL&#39;</span><span class="p">);</span>
<span class="linenos"> 45</span><span class="w">       </span><span class="kd">var</span><span class="w"> </span><span class="nx">cloud</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">qa</span><span class="p">.</span><span class="nx">bitwiseAnd</span><span class="p">(</span><span class="mf">1</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mf">5</span><span class="p">)</span>
<span class="linenos"> 46</span><span class="w">                       </span><span class="p">.</span><span class="nx">and</span><span class="p">(</span><span class="nx">qa</span><span class="p">.</span><span class="nx">bitwiseAnd</span><span class="p">(</span><span class="mf">1</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mf">7</span><span class="p">))</span>
<span class="linenos"> 47</span><span class="w">                       </span><span class="p">.</span><span class="nx">or</span><span class="p">(</span><span class="nx">qa</span><span class="p">.</span><span class="nx">bitwiseAnd</span><span class="p">(</span><span class="mf">1</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mf">3</span><span class="p">));</span>
<span class="linenos"> 48</span>
<span class="linenos"> 49</span><span class="w">         </span><span class="c1">// Remove edge pixels that don&#39;t occur in all bands</span>
<span class="linenos"> 50</span><span class="w">       </span><span class="c1">//var mask2 = image.mask().reduce(ee.Reducer.min())//.focal_min(300,&#39;square&#39;,&#39;meters&#39;).eq(0);</span>
<span class="linenos"> 51</span><span class="w">       </span><span class="c1">//var mask2 = image.select(&#39;B4&#39;).reduce(ee.Reducer.min()).gt(0)//.focal_min(500,&#39;square&#39;,&#39;meters&#39;);</span>
<span class="linenos"> 52</span><span class="w">       </span><span class="c1">// Remove edge pixels that don&#39;t occur in all bands</span>
<span class="linenos"> 53</span><span class="w">       </span><span class="kd">var</span><span class="w"> </span><span class="nx">mask3</span><span class="w"> </span><span class="o">=</span>
<span class="linenos"> 54</span><span class="w">                   </span><span class="p">(</span><span class="nx">image</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s1">&#39;B3&#39;</span><span class="p">).</span><span class="nx">gt</span><span class="p">(</span><span class="mf">100</span><span class="p">))</span>
<span class="linenos"> 55</span><span class="w">                   </span><span class="p">.</span><span class="nx">and</span><span class="p">(</span><span class="nx">image</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s1">&#39;B4&#39;</span><span class="p">).</span><span class="nx">gt</span><span class="p">(</span><span class="mf">100</span><span class="p">))</span>
<span class="linenos"> 56</span>
<span class="linenos"> 57</span>
<span class="linenos"> 58</span><span class="w">                   </span><span class="p">.</span><span class="nx">and</span><span class="p">(</span><span class="nx">image</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s1">&#39;B4&#39;</span><span class="p">).</span><span class="nx">lt</span><span class="p">(</span><span class="mf">10000</span><span class="p">))</span>
<span class="linenos"> 59</span><span class="w">                   </span><span class="p">.</span><span class="nx">and</span><span class="p">(</span><span class="nx">image</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s1">&#39;B3&#39;</span><span class="p">).</span><span class="nx">lt</span><span class="p">(</span><span class="mf">10000</span><span class="p">))</span>
<span class="linenos"> 60</span>
<span class="linenos"> 61</span>
<span class="linenos"> 62</span>
<span class="linenos"> 63</span><span class="w">       </span><span class="k">return</span><span class="w"> </span><span class="nx">image</span><span class="p">.</span><span class="nx">updateMask</span><span class="p">(</span><span class="nx">cloud</span><span class="p">.</span><span class="nx">not</span><span class="p">()).</span><span class="nx">updateMask</span><span class="p">(</span><span class="nx">mask3</span><span class="p">)</span><span class="c1">//.updateMask(mask2)//.clip(image.geometry().buffer(-5000))//.or(mask3));</span>
<span class="linenos"> 64</span><span class="w">     </span><span class="p">};</span>
<span class="linenos"> 65</span>
<span class="linenos"> 66</span>
<span class="linenos"> 67</span><span class="w">     </span><span class="kd">var</span><span class="w"> </span><span class="nx">cloudMaskL45</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">function</span><span class="p">(</span><span class="nx">image</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 68</span><span class="w">       </span><span class="kd">var</span><span class="w"> </span><span class="nx">qa</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">image</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s1">&#39;QA_PIXEL&#39;</span><span class="p">);</span>
<span class="linenos"> 69</span><span class="w">       </span><span class="kd">var</span><span class="w"> </span><span class="nx">cloud</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">qa</span><span class="p">.</span><span class="nx">bitwiseAnd</span><span class="p">(</span><span class="mf">1</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mf">5</span><span class="p">)</span>
<span class="linenos"> 70</span><span class="w">                       </span><span class="p">.</span><span class="nx">and</span><span class="p">(</span><span class="nx">qa</span><span class="p">.</span><span class="nx">bitwiseAnd</span><span class="p">(</span><span class="mf">1</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mf">7</span><span class="p">))</span>
<span class="linenos"> 71</span><span class="w">                       </span><span class="p">.</span><span class="nx">or</span><span class="p">(</span><span class="nx">qa</span><span class="p">.</span><span class="nx">bitwiseAnd</span><span class="p">(</span><span class="mf">1</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mf">3</span><span class="p">));</span>
<span class="linenos"> 72</span>
<span class="linenos"> 73</span><span class="w">       </span><span class="c1">// Remove edge pixels that don&#39;t occur in all bands</span>
<span class="linenos"> 74</span><span class="w">       </span><span class="c1">//var mask2 = image.mask().reduce(ee.Reducer.min());</span>
<span class="linenos"> 75</span><span class="w">         </span><span class="kd">var</span><span class="w"> </span><span class="nx">mask2</span><span class="w"> </span><span class="o">=</span>
<span class="linenos"> 76</span><span class="w">                   </span><span class="p">(</span><span class="nx">image</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s1">&#39;B3&#39;</span><span class="p">).</span><span class="nx">gt</span><span class="p">(</span><span class="mf">100</span><span class="p">))</span>
<span class="linenos"> 77</span><span class="w">                   </span><span class="p">.</span><span class="nx">and</span><span class="p">(</span><span class="nx">image</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s1">&#39;B4&#39;</span><span class="p">).</span><span class="nx">gt</span><span class="p">(</span><span class="mf">100</span><span class="p">))</span>
<span class="linenos"> 78</span>
<span class="linenos"> 79</span>
<span class="linenos"> 80</span><span class="w">                   </span><span class="p">.</span><span class="nx">and</span><span class="p">(</span><span class="nx">image</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s1">&#39;B4&#39;</span><span class="p">).</span><span class="nx">lt</span><span class="p">(</span><span class="mf">10000</span><span class="p">))</span>
<span class="linenos"> 81</span><span class="w">                   </span><span class="p">.</span><span class="nx">and</span><span class="p">(</span><span class="nx">image</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s1">&#39;B3&#39;</span><span class="p">).</span><span class="nx">lt</span><span class="p">(</span><span class="mf">10000</span><span class="p">))</span>
<span class="linenos"> 82</span>
<span class="linenos"> 83</span><span class="w">       </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="nx">image</span><span class="p">.</span><span class="nx">updateMask</span><span class="p">(</span><span class="nx">cloud</span><span class="p">.</span><span class="nx">not</span><span class="p">()).</span><span class="nx">updateMask</span><span class="p">(</span><span class="nx">mask2</span><span class="p">))</span><span class="c1">//.clip(image.geometry().buffer(-5000))//.updateMask(mask2);</span>
<span class="linenos"> 84</span><span class="w">     </span><span class="p">};</span>
<span class="linenos"> 85</span>
<span class="linenos"> 86</span>
<span class="linenos"> 87</span><span class="w">     </span><span class="c1">//--------------------------------------------------------------------</span>
<span class="linenos"> 88</span><span class="w">     </span><span class="c1">//         Landsat 8 cloudmask</span>
<span class="linenos"> 89</span><span class="w">     </span><span class="c1">//--------------------------------------------------------------------</span>
<span class="linenos"> 90</span>
<span class="linenos"> 91</span><span class="w">         </span><span class="c1">// Bits 3 and 5 are cloud shadow and cloud, respectively.</span>
<span class="linenos"> 92</span><span class="w">     </span><span class="kd">function</span><span class="w"> </span><span class="nx">maskL8sr</span><span class="p">(</span><span class="nx">image</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 93</span><span class="w">       </span><span class="kd">var</span><span class="w"> </span><span class="nx">cloudShadowBitMask</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="mf">1</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mf">3</span><span class="p">);</span>
<span class="linenos"> 94</span><span class="w">       </span><span class="kd">var</span><span class="w"> </span><span class="nx">cloudsBitMask</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="mf">1</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mf">5</span><span class="p">);</span>
<span class="linenos"> 95</span>
<span class="linenos"> 96</span><span class="w">         </span><span class="c1">// Get the pixel QA band.</span>
<span class="linenos"> 97</span><span class="w">       </span><span class="kd">var</span><span class="w"> </span><span class="nx">qa</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">image</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s1">&#39;pixel_qa&#39;</span><span class="p">);</span>
<span class="linenos"> 98</span>
<span class="linenos"> 99</span><span class="w">         </span><span class="c1">// Both flags should be set to zero, indicating clear conditions.</span>
<span class="linenos">100</span><span class="w">       </span><span class="kd">var</span><span class="w"> </span><span class="nx">mask</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">qa</span><span class="p">.</span><span class="nx">bitwiseAnd</span><span class="p">(</span><span class="nx">cloudShadowBitMask</span><span class="p">).</span><span class="nx">eq</span><span class="p">(</span><span class="mf">0</span><span class="p">)</span>
<span class="linenos">101</span><span class="w">                      </span><span class="p">.</span><span class="nx">and</span><span class="p">(</span><span class="nx">qa</span><span class="p">.</span><span class="nx">bitwiseAnd</span><span class="p">(</span><span class="nx">cloudsBitMask</span><span class="p">).</span><span class="nx">eq</span><span class="p">(</span><span class="mf">0</span><span class="p">));</span>
<span class="linenos">102</span><span class="w">       </span><span class="kd">var</span><span class="w"> </span><span class="nx">mask2</span><span class="w"> </span><span class="o">=</span>
<span class="linenos">103</span>
<span class="linenos">104</span><span class="w">                   </span><span class="p">(</span><span class="nx">image</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s1">&#39;B5&#39;</span><span class="p">).</span><span class="nx">gt</span><span class="p">(</span><span class="mf">100</span><span class="p">))</span>
<span class="linenos">105</span><span class="w">                   </span><span class="p">.</span><span class="nx">and</span><span class="p">(</span><span class="nx">image</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s1">&#39;B4&#39;</span><span class="p">).</span><span class="nx">gt</span><span class="p">(</span><span class="mf">100</span><span class="p">))</span>
<span class="linenos">106</span>
<span class="linenos">107</span>
<span class="linenos">108</span><span class="w">                   </span><span class="p">.</span><span class="nx">and</span><span class="p">(</span><span class="nx">image</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s1">&#39;B5&#39;</span><span class="p">).</span><span class="nx">lt</span><span class="p">(</span><span class="mf">10000</span><span class="p">))</span>
<span class="linenos">109</span><span class="w">                   </span><span class="p">.</span><span class="nx">and</span><span class="p">(</span><span class="nx">image</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s1">&#39;B4&#39;</span><span class="p">).</span><span class="nx">lt</span><span class="p">(</span><span class="mf">10000</span><span class="p">))</span>
<span class="linenos">110</span>
<span class="linenos">111</span><span class="w">        </span><span class="c1">//var mask2 = image.mask().reduce(ee.Reducer.min()).focal_min(500,&#39;square&#39;,&#39;meters&#39;);</span>
<span class="linenos">112</span><span class="w">       </span><span class="c1">//return image</span>
<span class="linenos">113</span><span class="w">       </span><span class="k">return</span><span class="w"> </span><span class="nx">image</span><span class="p">.</span><span class="nx">updateMask</span><span class="p">(</span><span class="nx">mask</span><span class="p">).</span><span class="nx">updateMask</span><span class="p">(</span><span class="nx">mask2</span><span class="p">)</span><span class="c1">//.clip(image.geometry().buffer(-5000));</span>
<span class="linenos">114</span><span class="w">     </span><span class="p">}</span>
<span class="linenos">115</span>
<span class="linenos">116</span>
<span class="linenos">117</span>
<span class="linenos">118</span>
<span class="linenos">119</span><span class="w">         </span><span class="c1">// Apply Cloudmask to L4.5.7</span>
<span class="linenos">120</span><span class="w">     </span><span class="kd">var</span><span class="w"> </span><span class="nx">L4</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">ImageCollection</span><span class="p">(</span><span class="s2">&quot;LANDSAT/LT04/C02/T2_TOA&quot;</span><span class="p">)</span>
<span class="linenos">121</span><span class="w">                       </span><span class="p">.</span><span class="nx">filterDate</span><span class="p">(</span><span class="nx">start_date</span><span class="p">,</span><span class="w"> </span><span class="nx">end_date</span><span class="p">)</span>
<span class="linenos">122</span><span class="w">                       </span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">ee</span><span class="p">.</span><span class="nx">Filter</span><span class="p">.</span><span class="nx">lessThan</span><span class="p">(</span><span class="s1">&#39;CLOUD_COVER_LAND&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">cloudCoveragePercentage</span><span class="p">))</span>
<span class="linenos">123</span><span class="w">                       </span><span class="p">.</span><span class="nx">filterBounds</span><span class="p">(</span><span class="nx">studyArea</span><span class="p">)</span>
<span class="linenos">124</span><span class="w">                       </span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">cloudMaskL45</span><span class="p">)</span>
<span class="linenos">125</span><span class="w">                       </span><span class="p">.</span><span class="nx">select</span><span class="p">([</span><span class="s1">&#39;B3&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;B4&#39;</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;RED&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;NIR&#39;</span><span class="p">]);;</span>
<span class="linenos">126</span>
<span class="linenos">127</span><span class="w">     </span><span class="kd">var</span><span class="w"> </span><span class="nx">L5</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">ImageCollection</span><span class="p">(</span><span class="s1">&#39;LANDSAT/LT05/C02/T2_TOA&#39;</span><span class="p">)</span>
<span class="linenos">128</span><span class="w">                       </span><span class="p">.</span><span class="nx">filterDate</span><span class="p">(</span><span class="nx">start_date</span><span class="p">,</span><span class="w"> </span><span class="nx">end_date</span><span class="p">)</span>
<span class="linenos">129</span><span class="w">                       </span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">ee</span><span class="p">.</span><span class="nx">Filter</span><span class="p">.</span><span class="nx">lessThan</span><span class="p">(</span><span class="s1">&#39;CLOUD_COVER_LAND&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">cloudCoveragePercentage</span><span class="p">))</span>
<span class="linenos">130</span><span class="w">                       </span><span class="p">.</span><span class="nx">filterBounds</span><span class="p">(</span><span class="nx">studyArea</span><span class="p">)</span>
<span class="linenos">131</span><span class="w">                       </span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">cloudMaskL45</span><span class="p">)</span>
<span class="linenos">132</span><span class="w">                       </span><span class="p">.</span><span class="nx">select</span><span class="p">([</span><span class="s1">&#39;B3&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;B4&#39;</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;RED&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;NIR&#39;</span><span class="p">]);;</span>
<span class="linenos">133</span>
<span class="linenos">134</span><span class="w">     </span><span class="kd">var</span><span class="w"> </span><span class="nx">L7a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">ImageCollection</span><span class="p">(</span><span class="s1">&#39;LANDSAT/LE07/C02/T2_TOA&#39;</span><span class="p">)</span>
<span class="linenos">135</span><span class="w">                       </span><span class="p">.</span><span class="nx">filterDate</span><span class="p">(</span><span class="s1">&#39;1999-01-01&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;2003-04-01&#39;</span><span class="p">)</span>
<span class="linenos">136</span><span class="w">                       </span><span class="p">.</span><span class="nx">filterDate</span><span class="p">(</span><span class="nx">start_date</span><span class="p">,</span><span class="w"> </span><span class="nx">end_date</span><span class="p">)</span>
<span class="linenos">137</span><span class="w">                       </span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">ee</span><span class="p">.</span><span class="nx">Filter</span><span class="p">.</span><span class="nx">lessThan</span><span class="p">(</span><span class="s1">&#39;CLOUD_COVER_LAND&#39;</span><span class="p">,</span><span class="w"> </span><span class="mf">100</span><span class="p">))</span>
<span class="linenos">138</span><span class="w">                       </span><span class="p">.</span><span class="nx">filterBounds</span><span class="p">(</span><span class="nx">studyArea</span><span class="p">)</span>
<span class="linenos">139</span><span class="w">                       </span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">cloudMaskL7</span><span class="p">)</span>
<span class="linenos">140</span><span class="w">                       </span><span class="p">.</span><span class="nx">select</span><span class="p">([</span><span class="s1">&#39;B3&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;B4&#39;</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;RED&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;NIR&#39;</span><span class="p">]);;</span>
<span class="linenos">141</span><span class="w">     </span><span class="kd">var</span><span class="w"> </span><span class="nx">L7b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">ImageCollection</span><span class="p">(</span><span class="s1">&#39;LANDSAT/LE07/C02/T2_TOA&#39;</span><span class="p">)</span>
<span class="linenos">142</span><span class="w">                       </span><span class="p">.</span><span class="nx">filterDate</span><span class="p">(</span><span class="s1">&#39;2012-01-01&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;2013-12-31&#39;</span><span class="p">)</span>
<span class="linenos">143</span><span class="w">                       </span><span class="p">.</span><span class="nx">filterDate</span><span class="p">(</span><span class="nx">start_date</span><span class="p">,</span><span class="w"> </span><span class="nx">end_date</span><span class="p">)</span>
<span class="linenos">144</span><span class="w">                       </span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">ee</span><span class="p">.</span><span class="nx">Filter</span><span class="p">.</span><span class="nx">lessThan</span><span class="p">(</span><span class="s1">&#39;CLOUD_COVER_LAND&#39;</span><span class="p">,</span><span class="w"> </span><span class="mf">100</span><span class="p">))</span>
<span class="linenos">145</span><span class="w">                       </span><span class="p">.</span><span class="nx">filterBounds</span><span class="p">(</span><span class="nx">studyArea</span><span class="p">)</span>
<span class="linenos">146</span><span class="w">                       </span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">cloudMaskL7</span><span class="p">)</span>
<span class="linenos">147</span><span class="w">                       </span><span class="p">.</span><span class="nx">select</span><span class="p">([</span><span class="s1">&#39;B3&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;B4&#39;</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;RED&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;NIR&#39;</span><span class="p">]);;</span>
<span class="linenos">148</span>
<span class="linenos">149</span><span class="w">     </span><span class="kd">var</span><span class="w"> </span><span class="nx">L7</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">L7a</span><span class="p">.</span><span class="nx">merge</span><span class="p">(</span><span class="nx">L7b</span><span class="p">);</span>
<span class="linenos">150</span>
<span class="linenos">151</span><span class="w">     </span><span class="kd">var</span><span class="w"> </span><span class="nx">L8</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">ImageCollection</span><span class="p">(</span><span class="s1">&#39;LANDSAT/LC08/C02/T2_TOA&#39;</span><span class="p">)</span>
<span class="linenos">152</span><span class="w">                       </span><span class="p">.</span><span class="nx">filterDate</span><span class="p">(</span><span class="nx">start_date</span><span class="p">,</span><span class="w"> </span><span class="nx">end_date</span><span class="p">)</span>
<span class="linenos">153</span><span class="w">                       </span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">ee</span><span class="p">.</span><span class="nx">Filter</span><span class="p">.</span><span class="nx">lessThan</span><span class="p">(</span><span class="s1">&#39;CLOUD_COVER&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">cloudCoveragePercentage</span><span class="p">))</span>
<span class="linenos">154</span><span class="w">                       </span><span class="p">.</span><span class="nx">filterBounds</span><span class="p">(</span><span class="nx">studyArea</span><span class="p">)</span>
<span class="linenos">155</span><span class="w">                       </span><span class="c1">//.filterBounds(AOI)</span>
<span class="linenos">156</span><span class="w">                       </span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">maskL8sr</span><span class="p">)</span>
<span class="linenos">157</span><span class="w">                       </span><span class="p">.</span><span class="nx">select</span><span class="p">([</span><span class="s1">&#39;B4&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;B5&#39;</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;RED&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;NIR&#39;</span><span class="p">]);</span>
<span class="linenos">158</span>
<span class="linenos">159</span>
<span class="linenos">160</span>
<span class="linenos">161</span>
<span class="linenos">162</span>
<span class="linenos">163</span>
<span class="linenos">164</span><span class="w">         </span><span class="c1">//Define collection</span>
<span class="linenos">165</span>
<span class="linenos">166</span>
<span class="linenos">167</span><span class="w">     </span><span class="c1">//--------------------------------------------------------------------</span>
<span class="linenos">168</span><span class="w">     </span><span class="c1">// Merge Landsat 4, 5, 8 imagery collections and filter all by date/place</span>
<span class="linenos">169</span><span class="w">     </span><span class="c1">//--------------------------------------------------------------------</span>
<span class="linenos">170</span>
<span class="linenos">171</span><span class="w">     </span><span class="c1">//Merge Landsat 4, 5 , 7 &#39;</span>
<span class="linenos">172</span>
<span class="linenos">173</span><span class="w">     </span><span class="kd">var</span><span class="w"> </span><span class="nx">L4578</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">L4</span><span class="p">.</span><span class="nx">merge</span><span class="p">(</span><span class="nx">L5</span><span class="p">).</span><span class="nx">merge</span><span class="p">(</span><span class="nx">L7</span><span class="p">).</span><span class="nx">merge</span><span class="p">(</span><span class="nx">L8</span><span class="p">);</span>
<span class="linenos">174</span><span class="w">     </span><span class="nx">print</span><span class="p">(</span><span class="nx">L4578</span><span class="p">)</span>
<span class="linenos">175</span>
<span class="linenos">176</span>
<span class="linenos">177</span><span class="w">     </span><span class="c1">//--------------------------------------------------------------------</span>
<span class="linenos">178</span><span class="w">     </span><span class="c1">//                     Create NDVI Collection</span>
<span class="linenos">179</span><span class="w">     </span><span class="c1">//--------------------------------------------------------------------</span>
<span class="linenos">180</span>
<span class="linenos">181</span><span class="w">     </span><span class="kd">var</span><span class="w"> </span><span class="nx">NDVI</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">function</span><span class="p">(</span><span class="nx">image</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">182</span><span class="w">       </span><span class="k">return</span><span class="w"> </span><span class="nx">image</span><span class="p">.</span><span class="nx">normalizedDifference</span><span class="p">([</span><span class="s1">&#39;NIR&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;RED&#39;</span><span class="p">]).</span><span class="nx">rename</span><span class="p">(</span><span class="s1">&#39;NDVI&#39;</span><span class="p">);</span>
<span class="linenos">183</span><span class="w">       </span><span class="c1">//return image.addBands(ndvi);</span>
<span class="linenos">184</span><span class="w">     </span><span class="p">};</span>
<span class="linenos">185</span>
<span class="linenos">186</span><span class="w">     </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">ALGO</span><span class="o">==</span><span class="s1">&#39;MEDIAN&#39;</span><span class="p">){</span>
<span class="linenos">187</span><span class="w">         </span><span class="kd">var</span><span class="w"> </span><span class="nx">suffix</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;median&#39;</span><span class="p">;</span>
<span class="linenos">188</span><span class="w">         </span><span class="kd">var</span><span class="w"> </span><span class="nx">annualNDVI</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">L4578</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">NDVI</span><span class="p">).</span><span class="nx">median</span><span class="p">().</span><span class="nx">clip</span><span class="p">(</span><span class="nx">studyArea</span><span class="p">);</span>
<span class="linenos">189</span><span class="w">     </span><span class="p">}</span>
<span class="linenos">190</span>
<span class="linenos">191</span><span class="w">     </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">ALGO</span><span class="o">==</span><span class="s1">&#39;PERCENTILE75&#39;</span><span class="p">){</span>
<span class="linenos">192</span><span class="w">         </span><span class="kd">var</span><span class="w"> </span><span class="nx">suffix</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;75pc&#39;</span><span class="p">;</span>
<span class="linenos">193</span><span class="w">         </span><span class="kd">var</span><span class="w"> </span><span class="nx">annualNDVI</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">L4578</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">NDVI</span><span class="p">).</span><span class="nx">reduce</span><span class="p">(</span><span class="nx">ee</span><span class="p">.</span><span class="nx">Reducer</span><span class="p">.</span><span class="nx">percentile</span><span class="p">([</span><span class="mf">75</span><span class="p">])).</span><span class="nx">clip</span><span class="p">(</span><span class="nx">studyArea</span><span class="p">);</span>
<span class="linenos">194</span><span class="w">     </span><span class="p">}</span>
<span class="linenos">195</span>
<span class="linenos">196</span><span class="w">     </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">ALGO</span><span class="o">==</span><span class="s1">&#39;PERCENTILE65&#39;</span><span class="p">){</span>
<span class="linenos">197</span><span class="w">         </span><span class="kd">var</span><span class="w"> </span><span class="nx">suffix</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;65pc&#39;</span><span class="p">;</span>
<span class="linenos">198</span><span class="w">         </span><span class="kd">var</span><span class="w"> </span><span class="nx">annualNDVI</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">L4578</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">NDVI</span><span class="p">).</span><span class="nx">reduce</span><span class="p">(</span><span class="nx">ee</span><span class="p">.</span><span class="nx">Reducer</span><span class="p">.</span><span class="nx">percentile</span><span class="p">([</span><span class="mf">65</span><span class="p">])).</span><span class="nx">clip</span><span class="p">(</span><span class="nx">studyArea</span><span class="p">);</span>
<span class="linenos">199</span><span class="w">     </span><span class="p">}</span>
<span class="linenos">200</span>
<span class="linenos">201</span>
<span class="linenos">202</span><span class="w">     </span><span class="kd">var</span><span class="w"> </span><span class="nx">ndvi_visualization</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">203</span><span class="w">       </span><span class="nx">min</span><span class="o">:</span><span class="w"> </span><span class="o">-</span><span class="mf">0.22789797020331423</span><span class="p">,</span>
<span class="linenos">204</span><span class="w">       </span><span class="nx">max</span><span class="o">:</span><span class="w"> </span><span class="mf">0.6575894075894075</span><span class="p">,</span>
<span class="linenos">205</span><span class="w">       </span><span class="nx">palette</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;FFFFFF, CE7E45, DF923D, F1B555, FCD163, 99B718, 74A901, 66A000, 529400,&#39;</span><span class="w"> </span><span class="o">+</span>
<span class="linenos">206</span><span class="w">         </span><span class="s1">&#39;3E8601, 207401, 056201, 004C00, 023B01, 012E01, 011D01, 011301&#39;</span>
<span class="linenos">207</span><span class="w">     </span><span class="p">};</span>
<span class="linenos">208</span><span class="w">     </span><span class="nb">Map</span><span class="p">.</span><span class="nx">addLayer</span><span class="p">(</span><span class="nx">annualNDVI</span><span class="p">,</span><span class="w"> </span><span class="nx">ndvi_visualization</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;NDVI&#39;</span><span class="p">);</span>
<span class="linenos">209</span>
<span class="linenos">210</span><span class="w">     </span><span class="c1">//--------------------------------------------------------------------</span>
<span class="linenos">211</span><span class="w">     </span><span class="c1">//       Export as GeoTIFF</span>
<span class="linenos">212</span><span class="w">     </span><span class="c1">//--------------------------------------------------------------------</span>
<span class="linenos">213</span>
<span class="linenos">214</span>
<span class="linenos">215</span><span class="w">     </span><span class="nx">Export</span><span class="p">.</span><span class="nx">image</span><span class="p">.</span><span class="nx">toDrive</span><span class="p">({</span>
<span class="linenos">216</span><span class="w">      </span><span class="nx">image</span><span class="o">:</span><span class="w"> </span><span class="nx">annualNDVI</span><span class="p">,</span>
<span class="linenos">217</span><span class="w">      </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="nx">country</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;_NDVI_&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">suffix</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;_&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">Year</span><span class="p">,</span>
<span class="linenos">218</span><span class="w">      </span><span class="nx">scale</span><span class="o">:</span><span class="w"> </span><span class="mf">30</span><span class="p">,</span>
<span class="linenos">219</span><span class="w">      </span><span class="nx">region</span><span class="o">:</span><span class="w"> </span><span class="nx">studyArea</span><span class="p">,</span>
<span class="linenos">220</span><span class="w">      </span><span class="nx">maxPixels</span><span class="o">:</span><span class="w">  </span><span class="mf">1e13</span><span class="p">,</span>
<span class="linenos">221</span><span class="w">      </span><span class="nx">fileFormat</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;GeoTIFF&#39;</span><span class="p">,</span>
<span class="linenos">222</span><span class="w">      </span><span class="nx">folder</span><span class="o">:</span><span class="s1">&#39;GEE_classification&#39;</span><span class="p">,</span>
<span class="linenos">223</span><span class="w">      </span><span class="nx">formatOptions</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">224</span><span class="w">        </span><span class="nx">cloudOptimized</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span>
<span class="linenos">225</span><span class="w">          </span><span class="p">},</span>
<span class="linenos">226</span><span class="w">       </span><span class="nx">skipEmptyTiles</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span>
<span class="linenos">227</span><span class="w">       </span><span class="p">});</span>
<span class="linenos">228</span>
<span class="linenos">229</span><span class="w">       </span><span class="c1">//Map.addLayer(L7.first(), {}, &#39;L7&#39;);</span>
</pre></div>
</div>
</section>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="../Introduction/models.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Data Preparation Models</p>
      </div>
    </a>
    <a class="right-next"
       href="Landcover.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Landcover Data Preparation</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#modis-ndvi">MODIS NDVI</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#data-download-from-google-earth-engine">Data download from Google Earth Engine</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#landsat-derived-ndvi-msavi-savi">Landsat derived NDVI, MSAVI, SAVI</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Data download from Google Earth Engine</a></li>
</ul>
</li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/Preprocessing/NDVI.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2025, Observatoire Du Sahara Et Du Sahel(OSS).
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.3.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  <!-- # L10n: Setting the PST URL as an argument as this does not need to be localized -->
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.1.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>